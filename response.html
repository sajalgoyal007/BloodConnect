<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matched Donors</title>
    <link rel="stylesheet" href="./request.css">
</head>

<body>

    <!-- Go Home Icon -->
    <a href="/" class="home-icon">ğŸ </a>

    <h1>âœ… Blood Request Submitted Successfully!</h1>
    <h2>ğŸ” Matched Donors (Sorted by Distance):</h2>

    <ul id="donorList">
        <!-- Donor List Will Be Populated Here -->
    </ul>

    <a href="/">ğŸ”™ Go Back</a>

    <script>
        // Retrieve matched donors from query params
        const urlParams = new URLSearchParams(window.location.search);
        const donors = JSON.parse(urlParams.get('donors') || '[]');

        const donorList = document.getElementById('donorList');

        if (donors.length === 0) {
            donorList.innerHTML = '<p>âŒ No matching donors found. ğŸ˜</p>';
        } else {
            donors.forEach(donor => {
                const li = document.createElement('li');
                li.innerHTML = `${donor.name} (Age: ${donor.age}) - ğŸ“ ${donor.contact} (${donor.city}) - ğŸ“ ${donor.distance} km away`;
                donorList.appendChild(li);
            });
        }
    </script>

</body>

</html>
